(self.webpackChunkida_admin_web_app=self.webpackChunkida_admin_web_app||[]).push([[137],{1137:(t,e,n)=>{"use strict";n.r(e),n.d(e,{MvnoInformationModule:()=>et});var o=n(1116),a=n(649),l=n(1041),r=n(532),i=n(9883),s=n(1882),p=n(5366),c=n(5959),d=n(1225),u=n(2693),m=n(7727),h=n(9996),g=n(8198);let Z=(()=>{class t{constructor(t){this.http=t,this.httpOptions={headers:new u.WM({"Content-Type":"application/json"})},this.userCreatedSubject=new c.xQ,this.userCreatedObservable=this.userCreatedSubject.asObservable()}create(t){return this.http.post(g.eD+"/phone-plans",[t],this.httpOptions).pipe((0,m.K)(this.handleError))}update(t,e){return this.http.patch(g.eD+`/phone-plans/${e}`,t,this.httpOptions).pipe((0,m.K)(this.handleError))}get(){return this.http.get(g.eD+"/phone-plans",this.httpOptions).pipe((0,h.U)(t=>t.data)).pipe((0,m.K)(this.handleError))}handleError(t){return(0,d._)(t.error.error[0].error_message)}}return t.\u0275fac=function(e){return new(e||t)(p.LFG(u.eN))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),f=(()=>{class t{constructor(t){this.phonePlanService=t}resolve(){return this.phonePlanService.get()}}return t.\u0275fac=function(e){return new(e||t)(p.LFG(Z))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var A=n(9713),C=n(2951),b=n(9241),x=n(9199),P=n(5291),T=n(416),v=n(4053),q=n(2935);function _(t,e){if(1&t&&(p.TgZ(0,"option",28),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&t){const t=e.$implicit,n=p.oxw();p.s9C("value",t),p.xp6(1),p.hij(" ",p.lcZ(2,2,n.formatContent(t))," ")}}function U(t,e){1&t&&(p.TgZ(0,"span",29),p._uU(1),p.ALo(2,"uppercase"),p.ALo(3,"translate"),p.qZA()),2&t&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,p.lcZ(3,3,"SAVE")),""))}function w(t,e){1&t&&(p.TgZ(0,"div",30),p._UZ(1,"span",31),p.qZA())}const O=function(t){return{"is-invalid":t}};let N=(()=>{class t{constructor(t,e,n,o,a){this.formBuilder=t,this.notification=e,this.dialogRef=n,this.phonePlanService=o,this.translateService=a,this.phonePlanCreated=new p.vpe,this.spinnerLoader=!1,this.phonePlanTypes=g.Fp}ngOnInit(){this.buildForm()}formatContent(t){return(0,T.F)(this.translateService,t.toUpperCase()).replace("_"," ")}createPhonePlan(){this.phonePlanForm.markAllAsTouched(),this.phonePlanForm.valid&&(this.spinnerLoader=!0,this.phonePlanService.create(this.phonePlanForm.value).toPromise().then(()=>{this.spinnerLoader=!1,this.notification.showSuccessToast("PHONE_PLAN_CREATED"),this.phonePlanService.userCreatedSubject.next(),this.dialogRef.close()}).catch(t=>{this.spinnerLoader=!1,this.notification.showErrorToast("GENERIC_ERROR")}),this.phonePlanCreated.emit(!0))}buildForm(){this.phonePlanForm=this.formBuilder.group({name:["",l.kI.compose([l.kI.required])],description:[""],type:["",l.kI.compose([l.kI.required])],minutes:["",l.kI.compose([l.kI.required])],sms:["",l.kI.compose([l.kI.required])],mb:["",l.kI.compose([l.kI.required])],price:["",l.kI.compose([l.kI.required])],duration:["",l.kI.compose([l.kI.required])]})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(l.qu),p.Y36(v.T),p.Y36(q.so),p.Y36(Z),p.Y36(a.sK))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-phone-plan-creation"]],outputs:{phonePlanCreated:"phonePlanCreated"},decls:82,vars:76,consts:[[1,"basic-form","pt-4"],[1,"row","justify-content-center"],[1,"col-12","col-md-10"],["novalidate","",1,"needs-validation",3,"formGroup"],["id","name-group",1,"row","form-row","mb-4"],[1,"col-12","col-md-6","mb-4","mb-md-0"],[1,"form-label"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[1,"col-12","col-md-6"],["type","number","formControlName","duration",1,"form-control",3,"ngClass"],["type","number","formControlName","minutes",1,"form-control",3,"ngClass"],["type","number","formControlName","mb",1,"form-control",3,"ngClass"],["type","number","formControlName","sms",1,"form-control",3,"ngClass"],["type","number","formControlName","price",1,"form-control",3,"ngClass"],[1,"col-12","mb-md-0"],["formControlName","type",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["id","name-group",1,"row","form-row"],[1,"col-12"],[2,"width","100%"],["rows","3","type","text","formControlName","description","value","description",1,"form-control","textarea-form",3,"ngClass"],["id","name-group",1,"row","form-row","mb-4","mt-5","form-btn"],[1,"col-12","col-md-3"],["type","button",1,"btn","secondary-btn","btn-block",3,"click"],["class","btn-content",4,"ngIf","ngIfElse"],["class","text-center"],["loading",""],[3,"value"],[1,"btn-content"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"sr-only"]],template:function(t,e){if(1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"mat-dialog-content"),p.TgZ(4,"form",3),p.TgZ(5,"div",4),p.TgZ(6,"div",5),p.TgZ(7,"label",6),p._uU(8),p.ALo(9,"translate"),p.qZA(),p._UZ(10,"input",7),p.TgZ(11,"div",8),p._uU(12),p.ALo(13,"translate"),p.qZA(),p.qZA(),p.TgZ(14,"div",9),p.TgZ(15,"label",6),p._uU(16),p.ALo(17,"translate"),p.qZA(),p._UZ(18,"input",10),p.TgZ(19,"div",8),p._uU(20),p.ALo(21,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(22,"div",4),p.TgZ(23,"div",5),p.TgZ(24,"label",6),p._uU(25),p.ALo(26,"translate"),p.qZA(),p._UZ(27,"input",11),p.TgZ(28,"div",8),p._uU(29),p.ALo(30,"translate"),p.qZA(),p.qZA(),p.TgZ(31,"div",9),p.TgZ(32,"label",6),p._uU(33),p.ALo(34,"translate"),p.qZA(),p._UZ(35,"input",12),p.TgZ(36,"div",8),p._uU(37),p.ALo(38,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(39,"div",4),p.TgZ(40,"div",9),p.TgZ(41,"label",6),p._uU(42),p.ALo(43,"translate"),p.qZA(),p._UZ(44,"input",13),p.TgZ(45,"div",8),p._uU(46),p.ALo(47,"translate"),p.qZA(),p.qZA(),p.TgZ(48,"div",9),p.TgZ(49,"label",6),p._uU(50),p.ALo(51,"translate"),p.qZA(),p._UZ(52,"input",14),p.TgZ(53,"div",8),p._uU(54),p.ALo(55,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(56,"div",4),p.TgZ(57,"div",15),p.TgZ(58,"label",6),p._uU(59),p.ALo(60,"translate"),p.qZA(),p.TgZ(61,"select",16),p.YNc(62,_,3,4,"option",17),p.qZA(),p.TgZ(63,"div",8),p._uU(64),p.ALo(65,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(66,"div",18),p.TgZ(67,"div",19),p.TgZ(68,"div",20),p.TgZ(69,"label",6),p._uU(70),p.ALo(71,"translate"),p.qZA(),p._UZ(72,"textarea",21),p.TgZ(73,"div",8),p._uU(74),p.ALo(75,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(76,"div",22),p.TgZ(77,"div",23),p.TgZ(78,"button",24),p.NdJ("click",function(){return e.createPhonePlan()}),p.YNc(79,U,4,5,"span",25),p.YNc(80,w,2,0,"ng-template",26,27,p.W1O),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){const t=p.MAs(81);let n,o,a,l,r,i,s,c;p.xp6(4),p.Q6J("formGroup",e.phonePlanForm),p.xp6(4),p.Oqu(p.lcZ(9,28,"NAME")),p.xp6(2),p.Q6J("ngClass",p.VKq(60,O,(null==(n=e.phonePlanForm.get("name"))?null:n.invalid)&&(null==(n=e.phonePlanForm.get("name"))?null:n.touched))),p.xp6(2),p.hij(" ",p.lcZ(13,30,"INTRODUCE_NAME")," "),p.xp6(4),p.Oqu(p.lcZ(17,32,"DURATION_DAYS")),p.xp6(2),p.Q6J("ngClass",p.VKq(62,O,(null==(o=e.phonePlanForm.get("duration"))?null:o.invalid)&&(null==(o=e.phonePlanForm.get("duration"))?null:o.touched))),p.xp6(2),p.hij(" ",p.lcZ(21,34,"INTRODUCE_VALUE")," "),p.xp6(5),p.Oqu(p.lcZ(26,36,"MINUTES")),p.xp6(2),p.Q6J("ngClass",p.VKq(64,O,(null==(a=e.phonePlanForm.get("minutes"))?null:a.invalid)&&(null==(a=e.phonePlanForm.get("minutes"))?null:a.touched))),p.xp6(2),p.hij(" ",p.lcZ(30,38,"INTRODUCE_VALUE")," "),p.xp6(4),p.Oqu(p.lcZ(34,40,"MB")),p.xp6(2),p.Q6J("ngClass",p.VKq(66,O,(null==(l=e.phonePlanForm.get("mb"))?null:l.invalid)&&(null==(l=e.phonePlanForm.get("mb"))?null:l.touched))),p.xp6(2),p.hij(" ",p.lcZ(38,42,"INTRODUCE_VALUE")," "),p.xp6(5),p.Oqu(p.lcZ(43,44,"SMS")),p.xp6(2),p.Q6J("ngClass",p.VKq(68,O,(null==(r=e.phonePlanForm.get("sms"))?null:r.invalid)&&(null==(r=e.phonePlanForm.get("sms"))?null:r.touched))),p.xp6(2),p.hij(" ",p.lcZ(47,46,"INTRODUCE_VALUE")," "),p.xp6(4),p.Oqu(p.lcZ(51,48,"PRICE")),p.xp6(2),p.Q6J("ngClass",p.VKq(70,O,(null==(i=e.phonePlanForm.get("price"))?null:i.invalid)&&(null==(i=e.phonePlanForm.get("price"))?null:i.touched))),p.xp6(2),p.hij(" ",p.lcZ(55,50,"INTRODUCE_VALUE")," "),p.xp6(5),p.Oqu(p.lcZ(60,52,"TYPE")),p.xp6(2),p.Q6J("ngClass",p.VKq(72,O,(null==(s=e.phonePlanForm.get("type"))?null:s.invalid)&&(null==(s=e.phonePlanForm.get("type"))?null:s.touched))),p.xp6(1),p.Q6J("ngForOf",e.phonePlanTypes),p.xp6(2),p.hij(" ",p.lcZ(65,54,"INTRODUCE_VALUE")," "),p.xp6(6),p.Oqu(p.lcZ(71,56,"DESCRIPTION")),p.xp6(2),p.Q6J("ngClass",p.VKq(74,O,(null==(c=e.phonePlanForm.get("description"))?null:c.invalid)&&(null==(c=e.phonePlanForm.get("description"))?null:c.touched))),p.xp6(2),p.hij(" ",p.lcZ(75,58,"INTRODUCE_CONTENT")," "),p.xp6(5),p.Q6J("ngIf",!e.spinnerLoader)("ngIfElse",t)}},directives:[q.xY,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,o.mk,l.wV,l.EJ,o.sg,o.O5,l.YN,l.Kr],pipes:[a.X$,o.gd],styles:[".basic-form[_ngcontent-%COMP%]{background-color:#fff0!important}.actions-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.actions-wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:auto}.invalid-feedback[_ngcontent-%COMP%]{position:absolute!important;font-size:12px}.form-btn[_ngcontent-%COMP%]{justify-content:center}.form-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{font-size:.8rem!important}.form-select[_ngcontent-%COMP%]{border:1px solid #63709f}"]}),t})();var y=n(3242),E=n(1608);function I(t,e){if(1&t&&(p.TgZ(0,"option",26),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&t){const t=e.$implicit,n=p.oxw(2);p.Q6J("selected",t.type.toLowerCase()==(null==n.phonePlan.type?null:n.phonePlan.type.toLowerCase())),p.xp6(1),p.hij(" ",p.lcZ(2,2,n.formatContent(t.type))," ")}}const L=function(t){return{"is-invalid":t}};function F(t,e){if(1&t&&(p.TgZ(0,"select",24),p.NdJ("disabled",function(){return!0}),p.YNc(1,I,3,4,"option",25),p.qZA()),2&t){const t=p.oxw();let e;p.Q6J("ngClass",p.VKq(2,L,(null==(e=t.phonePlanDetailForm.get("type"))?null:e.invalid)&&(null==(e=t.phonePlanDetailForm.get("type"))?null:e.touched))),p.xp6(1),p.Q6J("ngForOf",t.phonePlanTypes)}}function D(t,e){1&t&&p._UZ(0,"input",27)}function k(t,e){if(1&t&&(p.TgZ(0,"option",26),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&t){const t=e.$implicit,n=p.oxw(2);p.Q6J("selected",t.state==n.phonePlanState),p.xp6(1),p.hij(" ",p.lcZ(2,2,t.state)," ")}}function S(t,e){if(1&t&&(p.TgZ(0,"select",28),p.YNc(1,k,3,4,"option",25),p.qZA()),2&t){const t=p.oxw();let e;p.Q6J("ngClass",p.VKq(2,L,(null==(e=t.phonePlanDetailForm.get("state"))?null:e.invalid)&&(null==(e=t.phonePlanDetailForm.get("state"))?null:e.touched))),p.xp6(1),p.Q6J("ngForOf",t.phonePlanStates)}}function J(t,e){1&t&&p._UZ(0,"input",29)}function M(t,e){1&t&&(p.TgZ(0,"span"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&t&&(p.xp6(1),p.Oqu(p.lcZ(2,1,"SAVE")))}function R(t,e){1&t&&(p.TgZ(0,"div",30),p._UZ(1,"span",31),p.qZA())}let Y=(()=>{class t{constructor(t,e,n,o,a,l){this.formBuilder=t,this.translateService=e,this.router=n,this.phonePlanService=o,this.notification=a,this.activatedRoute=l,this.update=new p.vpe,this.spinnerLoader=!1,this.showUpdate=!1}ngOnInit(){this.buildEnums(),this.buildUser(),this.getCurrentState(),this.buildForm()}formatContent(t){return(0,T.F)(this.translateService,t.toUpperCase()).replace("_"," ")}buildEnums(){this.phonePlanTypes=g.Fp.map(t=>({type:t,translatedType:(0,T.F)(this.translateService,t.toUpperCase())})),this.phonePlanStates=g.xU.map(t=>({state:t,translatedState:(0,T.F)(this.translateService,t)}))}getCurrentState(){this.phonePlanState=this.phonePlan.states.filter(t=>null==t.final_date)[0].state_name}updatePhonePlan(){var t,e;if(this.phonePlanDetailForm.valid&&this.phonePlanDetailForm.dirty){this.spinnerLoader=!0;const n=Object.assign({},this.phonePlanDetailForm.value),o=null===(t=this.phonePlanStates.find(t=>t.translatedState==n.state||t.state==n.state))||void 0===t?void 0:t.state;this.phonePlanState!=o&&(n.status={name:o,description:""}),n.type=null===(e=this.phonePlanTypes.find(t=>t.translatedType==n.type||t.type==n.type))||void 0===e?void 0:e.type,delete n.state,this.phonePlanService.update(n,this.phonePlan.id).toPromise().then(()=>{this.spinnerLoader=!1,this.notification.showSuccessToast("PHONE_PLAN_SUCCESSFULLY_UPDATED"),this.phonePlanState=o,this.phonePlanDetailForm.markAsPristine(),this.update.emit(n)}).catch(t=>{this.spinnerLoader=!1,this.notification.showErrorToast("GENERIC_ERROR")})}}buildUser(){this.activatedRoute.data.subscribe(t=>{var e;this.actualPhonePlan=t.phonePlan,this.showUpdate=(null===(e=t.phonePlan)||void 0===e?void 0:e.id)!=this.phonePlan.id})}buildForm(){this.phonePlanDetailForm=this.formBuilder.group({name:[this.phonePlan.name,l.kI.compose([l.kI.required])],description:[this.phonePlan.description],type:[this.phonePlan.type,l.kI.compose([l.kI.required])],minutes:[this.phonePlan.minutes,l.kI.compose([l.kI.required])],sms:[this.phonePlan.sms,l.kI.compose([l.kI.required])],mb:[this.phonePlan.mb,l.kI.compose([l.kI.required])],price:[this.phonePlan.price,l.kI.compose([l.kI.required])],duration:[this.phonePlan.duration,l.kI.compose([l.kI.required])],state:[this.phonePlanState,l.kI.compose([l.kI.required])]})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(l.qu),p.Y36(a.sK),p.Y36(i.F0),p.Y36(Z),p.Y36(v.T),p.Y36(i.gz))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-phone-plan-details"]],inputs:{phonePlan:"phonePlan"},outputs:{update:"update"},decls:88,vars:82,consts:[["novalidate","",1,"needs-validation","basic-form",3,"formGroup"],[1,"row"],[1,"col-md-4","col-12"],[1,"row","form-row"],[1,"col-12","mb-4"],[1,"form-label"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["type","number","formControlName","price",1,"form-control",3,"ngClass"],[2,"width","100%"],["rows","5","type","text","formControlName","description","value","description",1,"form-control","textarea-form",3,"ngClass"],["type","number","formControlName","minutes",1,"form-control",3,"ngClass"],["type","number","formControlName","sms",1,"form-control",3,"ngClass"],["type","number","formControlName","mb",1,"form-control",3,"ngClass"],["type","number","formControlName","duration",1,"form-control",3,"ngClass"],[1,"col-md-4","col-12","actions-wrapper"],["class","form-select","formControlName","type",3,"ngClass","disabled",4,"ngIf"],["readonly","","type","text","formControlName","role","class","form-control",4,"ngIf"],["class","form-select","formControlName","state",3,"ngClass",4,"ngIf"],["readonly","","type","text","formControlName","state","class","form-control",4,"ngIf"],[1,"btn","secondary-btn","mb-4",3,"click"],[4,"ngIf","ngIfElse"],["class","text-center"],["loading",""],["formControlName","type",1,"form-select",3,"ngClass","disabled"],[3,"selected",4,"ngFor","ngForOf"],[3,"selected"],["readonly","","type","text","formControlName","role",1,"form-control"],["formControlName","state",1,"form-select",3,"ngClass"],["readonly","","type","text","formControlName","state",1,"form-control"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"sr-only"]],template:function(t,e){if(1&t&&(p.TgZ(0,"div"),p.TgZ(1,"form",0),p.TgZ(2,"div",1),p.TgZ(3,"div",2),p.TgZ(4,"div",3),p.TgZ(5,"div",4),p.TgZ(6,"label",5),p._uU(7),p.ALo(8,"translate"),p.qZA(),p._UZ(9,"input",6),p.TgZ(10,"div",7),p._uU(11),p.ALo(12,"translate"),p.qZA(),p.qZA(),p.TgZ(13,"div",4),p.TgZ(14,"label",5),p._uU(15),p.ALo(16,"translate"),p.qZA(),p._UZ(17,"input",8),p.TgZ(18,"div",7),p._uU(19),p.ALo(20,"translate"),p.qZA(),p.qZA(),p.TgZ(21,"div",4),p.TgZ(22,"div",9),p.TgZ(23,"label",5),p._uU(24),p.ALo(25,"translate"),p.qZA(),p._UZ(26,"textarea",10),p.TgZ(27,"div",7),p._uU(28),p.ALo(29,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(30,"div",2),p.TgZ(31,"div",3),p.TgZ(32,"div",4),p.TgZ(33,"label",5),p._uU(34),p.ALo(35,"translate"),p.qZA(),p._UZ(36,"input",11),p.TgZ(37,"div",7),p._uU(38),p.ALo(39,"translate"),p.qZA(),p.qZA(),p.TgZ(40,"div",4),p.TgZ(41,"label",5),p._uU(42),p.ALo(43,"translate"),p.qZA(),p._UZ(44,"input",12),p.TgZ(45,"div",7),p._uU(46),p.ALo(47,"translate"),p.qZA(),p.qZA(),p.TgZ(48,"div",4),p.TgZ(49,"label",5),p._uU(50),p.ALo(51,"translate"),p.qZA(),p._UZ(52,"input",13),p.TgZ(53,"div",7),p._uU(54),p.ALo(55,"translate"),p.qZA(),p.qZA(),p.TgZ(56,"div",4),p.TgZ(57,"label",5),p._uU(58),p.ALo(59,"translate"),p.qZA(),p._UZ(60,"input",14),p.TgZ(61,"div",7),p._uU(62),p.ALo(63,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(64,"div",15),p.TgZ(65,"div",3),p.TgZ(66,"div",4),p.TgZ(67,"label",5),p._uU(68),p.ALo(69,"translate"),p.qZA(),p.YNc(70,F,2,4,"select",16),p.YNc(71,D,1,0,"input",17),p.TgZ(72,"div",7),p._uU(73),p.ALo(74,"translate"),p.qZA(),p.qZA(),p.TgZ(75,"div",4),p.TgZ(76,"label",5),p._uU(77),p.ALo(78,"translate"),p.qZA(),p.YNc(79,S,2,4,"select",18),p.YNc(80,J,1,0,"input",19),p.TgZ(81,"div",7),p._uU(82),p.ALo(83,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(84,"button",20),p.NdJ("click",function(){return e.updatePhonePlan()}),p.YNc(85,M,3,3,"span",21),p.YNc(86,R,2,0,"ng-template",22,23,p.W1O),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){const t=p.MAs(87);let n,o,a,l,r,i,s;p.xp6(1),p.Q6J("formGroup",e.phonePlanDetailForm),p.xp6(6),p.Oqu(p.lcZ(8,32,"NAME")),p.xp6(2),p.Q6J("ngClass",p.VKq(68,L,(null==(n=e.phonePlanDetailForm.get("name"))?null:n.invalid)&&(null==(n=e.phonePlanDetailForm.get("name"))?null:n.touched))),p.xp6(2),p.hij(" ",p.lcZ(12,34,"INTRODUCE_NAME")," "),p.xp6(4),p.Oqu(p.lcZ(16,36,"PRICE")),p.xp6(2),p.Q6J("ngClass",p.VKq(70,L,(null==(o=e.phonePlanDetailForm.get("price"))?null:o.invalid)&&(null==(o=e.phonePlanDetailForm.get("price"))?null:o.touched))),p.xp6(2),p.hij(" ",p.lcZ(20,38,"INTRODUCE_VALUE")," "),p.xp6(5),p.Oqu(p.lcZ(25,40,"DESCRIPTION")),p.xp6(2),p.Q6J("ngClass",p.VKq(72,L,(null==(a=e.phonePlanDetailForm.get("description"))?null:a.invalid)&&(null==(a=e.phonePlanDetailForm.get("description"))?null:a.touched))),p.xp6(2),p.hij(" ",p.lcZ(29,42,"INTRODUCE_CONTENT")," "),p.xp6(6),p.Oqu(p.lcZ(35,44,"MINUTES")),p.xp6(2),p.Q6J("ngClass",p.VKq(74,L,(null==(l=e.phonePlanDetailForm.get("minutes"))?null:l.invalid)&&(null==(l=e.phonePlanDetailForm.get("minutes"))?null:l.touched))),p.xp6(2),p.hij(" ",p.lcZ(39,46,"INTRODUCE_VALUE")," "),p.xp6(4),p.Oqu(p.lcZ(43,48,"SMS")),p.xp6(2),p.Q6J("ngClass",p.VKq(76,L,(null==(r=e.phonePlanDetailForm.get("sms"))?null:r.invalid)&&(null==(r=e.phonePlanDetailForm.get("sms"))?null:r.touched))),p.xp6(2),p.hij(" ",p.lcZ(47,50,"INTRODUCE_VALUE")," "),p.xp6(4),p.Oqu(p.lcZ(51,52,"MB")),p.xp6(2),p.Q6J("ngClass",p.VKq(78,L,(null==(i=e.phonePlanDetailForm.get("mb"))?null:i.invalid)&&(null==(i=e.phonePlanDetailForm.get("mb"))?null:i.touched))),p.xp6(2),p.hij(" ",p.lcZ(55,54,"INTRODUCE_VALUE")," "),p.xp6(4),p.Oqu(p.lcZ(59,56,"DURATION_DAYS")),p.xp6(2),p.Q6J("ngClass",p.VKq(80,L,(null==(s=e.phonePlanDetailForm.get("duration"))?null:s.invalid)&&(null==(s=e.phonePlanDetailForm.get("duration"))?null:s.touched))),p.xp6(2),p.hij(" ",p.lcZ(63,58,"INTRODUCE_VALUE")," "),p.xp6(6),p.Oqu(p.lcZ(69,60,"TYPE")),p.xp6(2),p.Q6J("ngIf",1==e.showUpdate),p.xp6(1),p.Q6J("ngIf",0==e.showUpdate),p.xp6(2),p.hij(" ",p.lcZ(74,62,"INTRODUCE_VALUE")," "),p.xp6(4),p.Oqu(p.lcZ(78,64,"STATE")),p.xp6(2),p.Q6J("ngIf",1==e.showUpdate),p.xp6(1),p.Q6J("ngIf",0==e.showUpdate),p.xp6(2),p.hij(" ",p.lcZ(83,66,"INTRODUCE_VALUE")," "),p.xp6(3),p.Q6J("ngIf",!e.spinnerLoader)("ngIfElse",t)}},directives:[l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,o.mk,l.wV,o.O5,l.EJ,o.sg,l.YN,l.Kr],pipes:[a.X$],styles:[".basic-form[_ngcontent-%COMP%]{background-color:#fff0!important}.actions-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.actions-wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:auto}.invalid-feedback[_ngcontent-%COMP%]{position:absolute!important}.form-select[_ngcontent-%COMP%]{border:1px solid #63709f}"]}),t})();function Q(t,e){if(1&t&&(p.TgZ(0,"option",28),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&t){const t=e.$implicit;p.s9C("value",t),p.xp6(1),p.hij(" ",p.lcZ(2,2,t)," ")}}function j(t,e){if(1&t&&(p.TgZ(0,"th",31),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&t){const t=p.oxw().$implicit;p.xp6(1),p.hij(" ",p.lcZ(2,1,t.toUpperCase())," ")}}function V(t,e){if(1&t&&(p.TgZ(0,"td",32),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&t){const t=e.$implicit,n=p.oxw().$implicit;p.xp6(1),p.Oqu(p.lcZ(2,1,t[n]))}}function K(t,e){1&t&&(p.ynx(0,29),p.YNc(1,j,3,3,"th",30),p.YNc(2,V,3,3,"td",23),p.BQk()),2&t&&p.s9C("matColumnDef",e.$implicit)}function B(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"td",32),p.TgZ(1,"div"),p.TgZ(2,"div",33),p.TgZ(3,"app-phone-plan-details",34),p.NdJ("update",function(e){return p.CHM(t),p.oxw().updatePhonePlan(e)}),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=e.$implicit,n=p.oxw();p.uIk("colspan",n.displayedColumns.length),p.xp6(1),p.Q6J("@detailExpand",t==n.expandedElement?"expanded":"collapsed"),p.xp6(2),p.Q6J("phonePlan",t)}}function z(t,e){1&t&&p._UZ(0,"tr",35)}function $(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"tr",36),p.NdJ("click",function(){const e=p.CHM(t).$implicit,n=p.oxw();return n.expandedElement=n.expandedElement===e?null:e}),p._uU(1," > "),p.qZA()}if(2&t){const t=e.$implicit,n=e.dataIndex,o=p.oxw();p.ekj("example-expanded-row",o.expandedElement===t),p.Q6J("ngClass",o.setTableRowColor(n))}}function G(t,e){if(1&t&&p._UZ(0,"tr",37),2&t){const t=e.dataIndex,n=p.oxw();p.Q6J("ngClass",n.setTableRowColor(t))}}const H=function(){return["expandedDetail"]},X=function(){return[10,25,100]},W=[{path:"",component:(()=>{class t{constructor(t,e,n,o){this.translateService=t,this.dialog=e,this.activatedRoute=n,this.phonePlanService=o,this.title=(0,T.F)(this.translateService,"PHONE_PLANS"),this.displayedColumns=["name","minutes","sms","mb","type"],this.searchIcon=P.wn1,this.phonePlanTypes=g.Fp,this.phonePlanService.userCreatedObservable.subscribe(()=>{this.reloadPhonePlans()})}ngOnInit(){this.getPhonePlans(),this.buildTable()}ngAfterViewInit(){this.initDataTable()}getPhonePlans(){this.activatedRoute.data.subscribe(t=>{this.phonePlans=t.phonePlans||[]})}openUserCreationModal(){this.dialog.open(N,{width:"700px",autoFocus:!1})}setTableRowColor(t){let e="";return t%2==0&&(e="table-row-item"),e}applyFilter(t){const e=null===t.value?"":t.value;t=e.trim(),t=e.toLowerCase(),this.dataSource.filter=e}updatePhonePlan(t){this.reloadPhonePlans()}reloadPhonePlans(){this.phonePlanService.get().subscribe(t=>{this.phonePlans=t,this.refresh()})}buildTable(){this.dataSource=new x.by(this.phonePlans)}initDataTable(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}refresh(){this.buildTable(),this.table.renderRows(),this.initDataTable()}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(a.sK),p.Y36(q.uw),p.Y36(i.gz),p.Y36(Z))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-phone-plans"]],viewQuery:function(t,e){if(1&t&&(p.Gf(C.NW,5),p.Gf(b.YE,5),p.Gf(x.BZ,5)),2&t){let t;p.iGM(t=p.CRH())&&(e.paginator=t.first),p.iGM(t=p.CRH())&&(e.sort=t.first),p.iGM(t=p.CRH())&&(e.table=t.first)}},decls:37,vars:22,consts:[[3,"title"],[1,"container","table-container","px-0","mb-5"],[1,"row","justify-content-center"],[1,"col"],[1,"page-options","container","px-0","mb-4"],[1,"row","justify-content-center","justify-content-md-end"],[1,"col-12","col-md-2","text-end"],[1,"btn","secondary-btn",3,"click"],[1,"table-header","row","pb-5","pt-3","px-4"],[1,"col-12","col-md-3"],[1,"form-label"],[1,"form-select","small-searcher",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-md-6"],[1,"form-label-searcher"],[1,"input-group"],["type","text","placeholder","Buscar",1,"form-control",3,"keyup"],[1,"input-group-text"],[3,"icon"],["mat-table","","matSort","","multiTemplateDataRows","",1,"table","mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","mat-row",3,"ngClass","example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",3,"ngClass",4,"matRowDef","matRowDefColumns"],[1,"paginator-table",3,"pageSizeOptions"],[3,"value"],[3,"matColumnDef"],["class","header-table","mat-sort-header","","mat-header-cell","",4,"matHeaderCellDef"],["mat-sort-header","","mat-header-cell","",1,"header-table"],["mat-cell",""],[1,"element-expand-content"],[3,"phonePlan","update"],["mat-header-row",""],["mat-row","",1,"mat-row",3,"ngClass","click"],["mat-row","",1,"example-detail-row",3,"ngClass"]],template:function(t,e){1&t&&(p.TgZ(0,"app-page-wrapper",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.TgZ(5,"div",5),p.TgZ(6,"div",6),p.TgZ(7,"button",7),p.NdJ("click",function(){return e.openUserCreationModal()}),p._uU(8),p.ALo(9,"uppercase"),p.ALo(10,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(11,"div",8),p.TgZ(12,"div",9),p.TgZ(13,"label",10),p._uU(14),p.ALo(15,"translate"),p.qZA(),p.TgZ(16,"select",11),p.NdJ("change",function(t){return e.applyFilter(t.target)}),p.TgZ(17,"option",12),p._uU(18),p.ALo(19,"translate"),p.qZA(),p.YNc(20,Q,3,4,"option",13),p.qZA(),p.qZA(),p._UZ(21,"div",9),p.TgZ(22,"div",14),p.TgZ(23,"label",15),p._uU(24,"Buscar"),p.qZA(),p.TgZ(25,"div",16),p.TgZ(26,"input",17),p.NdJ("keyup",function(t){return e.applyFilter(t.target)}),p.qZA(),p.TgZ(27,"span",18),p._UZ(28,"fa-icon",19),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(29,"table",20),p.YNc(30,K,3,1,"ng-container",21),p.ynx(31,22),p.YNc(32,B,4,3,"td",23),p.BQk(),p.YNc(33,z,1,0,"tr",24),p.YNc(34,$,2,3,"tr",25),p.YNc(35,G,1,1,"tr",26),p.qZA(),p._UZ(36,"mat-paginator",27),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.Q6J("title",e.title),p.xp6(8),p.hij(" ",p.lcZ(9,12,p.lcZ(10,14,"CREATE"))," "),p.xp6(6),p.Oqu(p.lcZ(15,16,"TYPE")),p.xp6(4),p.Oqu(p.lcZ(19,18,"ALL")),p.xp6(2),p.Q6J("ngForOf",e.phonePlanTypes),p.xp6(8),p.Q6J("icon",e.searchIcon),p.xp6(1),p.Q6J("dataSource",e.dataSource),p.xp6(1),p.Q6J("ngForOf",e.displayedColumns),p.xp6(3),p.Q6J("matHeaderRowDef",e.displayedColumns),p.xp6(1),p.Q6J("matRowDefColumns",e.displayedColumns),p.xp6(1),p.Q6J("matRowDefColumns",p.DdM(20,H)),p.xp6(1),p.Q6J("pageSizeOptions",p.DdM(21,X)))},directives:[y.t,l.YN,l.Kr,o.sg,E.BN,x.BZ,b.YE,x.w1,x.Dz,x.as,x.nj,C.NW,x.fO,x.ge,b.nU,x.ev,Y,x.XQ,x.Gk,o.mk],pipes:[o.gd,a.X$],styles:[".header-table[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]{vertical-align:middle!important}tr.example-detail-row[_ngcontent-%COMP%]{height:0;box-shadow:inset 4px 0 0 #63709f}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.element-expand-content[_ngcontent-%COMP%]{padding:30px}@media (max-width:600px){.element-expand-content[_ngcontent-%COMP%]{padding:10px}}.row[_ngcontent-%COMP%]{--bs-gutter-x:0rem!important}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-style:none}.mat-row[_ngcontent-%COMP%]{border-bottom:none;cursor:pointer}.example-expanded-row[_ngcontent-%COMP%]{border-bottom:.1px solid #63709f73;box-shadow:inset 4px 0 0 #63709f}.paginator-table[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px;overflow:hidden!important;box-shadow:0 1px 3px 1px #b5b5b58f}.small-searcher[_ngcontent-%COMP%]{width:90%}.form-control[_ngcontent-%COMP%]{font-size:.8rem!important;font-weight:400!important;color:#182249!important;background-color:#fff0!important;border:1px solid #63709f!important;border-right:0!important}.form-label-searcher[_ngcontent-%COMP%]{color:#fff0}.input-group-text[_ngcontent-%COMP%]{font-size:.85rem;color:#182249!important;text-align:center;white-space:nowrap;background-color:#fff0;border:1px solid #63709f!important;border-left:0!important}.page-options[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{min-width:75%;margin-bottom:3rem}"],data:{animation:[(0,A.X$)("detailExpand",[(0,A.SB)("collapsed",(0,A.oB)({height:"0px",minHeight:"0"})),(0,A.SB)("expanded",(0,A.oB)({height:"*"})),(0,A.eR)("expanded <=> collapsed",(0,A.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})(),canActivate:[s.t],resolve:{phonePlans:f}}];let tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[i.Bz.forChild(W)],i.Bz]}),t})(),et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[o.ez,tt,r.m,a.aw,l.UX]]}),t})()}}]);