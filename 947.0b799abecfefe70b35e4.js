(self.webpackChunkida_admin_web_app=self.webpackChunkida_admin_web_app||[]).push([[947],{4947:(o,n,t)=>{"use strict";t.r(n),t.d(n,{AuthModule:()=>_});var e=t(1116),r=t(1041),i=t(649),s=t(1608),a=t(9883),l=t(8198),c=t(5366),d=t(288),g=t(4053),p=t(5291);let u=(()=>{class o{constructor(){this.toogleIcon=p.Aq,this.passwordType="password",this.passwordShown=!1}hidePassword(){this.passwordShown?(this.passwordType="password",this.passwordShown=!1,this.toogleIcon=p.Aq):(this.passwordType="text",this.passwordShown=!0,this.toogleIcon=p.Mdf)}clear(){this.passwordType="password",this.passwordShown=!1,this.toogleIcon=p.Aq}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function h(o,n){1&o&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&o&&(c.xp6(1),c.Oqu(c.lcZ(2,1,"LOGIN")))}function m(o,n){1&o&&(c.TgZ(0,"div",24),c._UZ(1,"span",25),c.qZA())}const f=function(o){return{"is-invalid":o}};let w=(()=>{class o{constructor(o,n,t,e,r){this.formBuilder=o,this.router=n,this.authService=t,this.notification=e,this.hidePasswordService=r,this.spinnerLoader=!1,this.login_image=l.Wc.applicationLogo}ngOnInit(){this.buildForm(),this.hidePassword=this.hidePasswordService}login(){this.loginForm.markAllAsTouched(),this.loginForm.valid&&(this.spinnerLoader=!0,this.authService.login(this.loginForm.value).toPromise().then(o=>{this.authService.storeUserData(o.data[0]),this.router.navigate(["/account/tickets"])}).catch(o=>{this.spinnerLoader=!1,o="Invalid credentials"==o?"WRONG_CREDENTIALS":o.includes("Current user status is inactive")?"USER_INACTIVE":"GENERIC_ERROR",this.notification.showErrorToast(o)}))}buildForm(){this.loginForm=this.formBuilder.group({email:["",r.kI.compose([r.kI.required,r.kI.pattern(l.s9)])],password:["",r.kI.compose([r.kI.required,r.kI.minLength(8)])]})}}return o.\u0275fac=function(n){return new(n||o)(c.Y36(r.qu),c.Y36(a.F0),c.Y36(d.e),c.Y36(g.T),c.Y36(u))},o.\u0275cmp=c.Xpm({type:o,selectors:[["app-login"]],decls:37,vars:30,consts:[[1,"login-section"],[1,"container"],[1,"row"],[1,"col-lg-6","col-12","columns","img-col"],[1,"login-img-wrapper"],["alt","Exis Logo","loading","lazy",3,"src"],[1,"col-lg-6","col-12","columns","login-col"],[1,"login-form-wrapper"],[1,"bold-font","text-center","mb-4"],[1,"row","justify-content-center","px-3","pb-2"],[1,"col-12"],["novalidate","",1,"needs-validation",3,"formGroup"],["id","name-group",1,"form-row"],["type","text","formControlName","email",1,"form-control",3,"placeholder","ngClass","keydown.enter"],[1,"invalid-feedback"],[1,"input-group",3,"ngClass"],["formControlName","password","id","password",1,"form-control",3,"type","placeholder","ngClass","keydown.enter"],[1,"input-group-append",3,"click"],[1,"input-group-text","form-control"],[3,"icon"],["type","button",1,"btn","primary-btn","btn-block",3,"click"],[4,"ngIf","ngIfElse"],["class","text-center"],["loading",""],["role","status",1,"spinner-border","spinner-border-sm"],[1,"sr-only"]],template:function(o,n){if(1&o&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c._UZ(5,"img",5),c.qZA(),c.qZA(),c.TgZ(6,"div",6),c.TgZ(7,"div",7),c.TgZ(8,"h2",8),c._uU(9),c.ALo(10,"translate"),c.qZA(),c.TgZ(11,"div",9),c.TgZ(12,"div",10),c.TgZ(13,"form",11),c.TgZ(14,"div",12),c.TgZ(15,"div",10),c.TgZ(16,"input",13),c.NdJ("keydown.enter",function(){return n.login()}),c.ALo(17,"translate"),c.qZA(),c.TgZ(18,"div",14),c._uU(19),c.ALo(20,"translate"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div",12),c.TgZ(22,"div",10),c.TgZ(23,"div",15),c.TgZ(24,"input",16),c.NdJ("keydown.enter",function(){return n.login()}),c.ALo(25,"translate"),c.qZA(),c.TgZ(26,"div",17),c.NdJ("click",function(){return n.hidePassword.hidePassword()}),c.TgZ(27,"span",18),c._UZ(28,"fa-icon",19),c.qZA(),c.qZA(),c.qZA(),c.TgZ(29,"div",14),c._uU(30),c.ALo(31,"translate"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(32,"div",10),c.TgZ(33,"button",20),c.NdJ("click",function(){return n.login()}),c.YNc(34,h,3,3,"span",21),c.YNc(35,m,2,0,"ng-template",22,23,c.W1O),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&o){const o=c.MAs(36);let t,e,r;c.xp6(5),c.s9C("src",n.login_image,c.LSH),c.xp6(4),c.hij(" ",c.lcZ(10,14,"LOGIN")," "),c.xp6(4),c.Q6J("formGroup",n.loginForm),c.xp6(3),c.s9C("placeholder",c.lcZ(17,16,"EMAIL_ADDRESS")),c.Q6J("ngClass",c.VKq(24,f,(null==(t=n.loginForm.get("email"))?null:t.invalid)&&(null==(t=n.loginForm.get("email"))?null:t.touched))),c.xp6(3),c.hij(" ",c.lcZ(20,18,"INTRODUCE_EMAIL")," "),c.xp6(4),c.Q6J("ngClass",c.VKq(26,f,(null==(e=n.loginForm.get("password"))?null:e.invalid)&&(null==(e=n.loginForm.get("password"))?null:e.touched))),c.xp6(1),c.s9C("placeholder",c.lcZ(25,20,"PASSWORD")),c.Q6J("type",n.hidePassword.passwordType)("ngClass",c.VKq(28,f,(null==(r=n.loginForm.get("password"))?null:r.invalid)&&(null==(r=n.loginForm.get("password"))?null:r.touched))),c.xp6(4),c.Q6J("icon",n.hidePassword.toogleIcon),c.xp6(2),c.hij(" ",c.lcZ(31,22,"INTRODUCE_PASSWORD")," "),c.xp6(4),c.Q6J("ngIf",!n.spinnerLoader)("ngIfElse",o)}},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,e.mk,s.BN,e.O5],pipes:[i.X$],styles:[".login-section[_ngcontent-%COMP%]{background:#182249;height:100vh}.container[_ngcontent-%COMP%]{height:100%}.columns[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{display:grid;align-items:center}.login-img-wrapper[_ngcontent-%COMP%]{background-color:#63709f;border-top-left-radius:100px;border-bottom-left-radius:40px;padding:3rem;display:flex;justify-content:center;align-items:center;height:100%}.login-img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:auto}.login-form-wrapper[_ngcontent-%COMP%]{background-color:#fff;color:#182249;border-top-right-radius:40px;border-bottom-right-radius:100px;padding:6rem 4rem;height:100%}.form-control[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]:focus{background-color:#e5e5e5}.img-col[_ngcontent-%COMP%]{padding-right:0;padding-left:8%}.login-col[_ngcontent-%COMP%]{padding-left:0;padding-right:8%}@media (max-width:991px){.img-col[_ngcontent-%COMP%]{display:none}.login-col[_ngcontent-%COMP%]{padding-right:0}.login-form-wrapper[_ngcontent-%COMP%]{border-bottom-left-radius:40px;border-top-left-radius:100px}}@media (max-width:560px){.columns[_ngcontent-%COMP%]{padding:0 2rem!important}.login-form-wrapper[_ngcontent-%COMP%]{background-color:#fff;color:#182249;border-top-right-radius:40px;border-bottom-right-radius:100px;padding:6rem 1rem}}@media (max-height:560px){.login-section[_ngcontent-%COMP%]{height:100%;padding:5% 0}}.form-row[_ngcontent-%COMP%]{margin:2.5rem 0}"]}),o})();var Z=t(6304);const v=[{path:"",component:w,canActivate:[(()=>{class o{constructor(o,n){this.authService=o,this.router=n}canActivate(){var o=this;return(0,Z.Z)(function*(){return!localStorage.getItem("Token")||(yield o.authService.isUserLogged(localStorage.getItem("Token")).then(n=>(n&&!n.data.expired&&o.router.navigate(["/account/tickets"]),!0)))})()}}return o.\u0275fac=function(n){return new(n||o)(c.LFG(d.e),c.LFG(a.F0))},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()]}];let A=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[a.Bz.forChild(v)],a.Bz]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[e.ez,A,r.UX,i.aw,s.uH]]}),o})()}}]);